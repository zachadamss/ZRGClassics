---
layout: layouts/base.njk
title: Reset Password
description: Reset your ZRG Classics account password.
---

<main class="auth-page">
  <div class="auth-container">
    <div class="auth-card">
      <h1>Reset Password</h1>
      <p class="auth-subtitle">Enter your email to receive a reset link</p>

      <form id="reset-form" class="auth-form">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required autocomplete="email">
        </div>

        <button type="submit" class="btn btn-primary btn-block">Send Reset Link</button>
      </form>

      <div class="auth-links">
        <a href="/account/login/">Back to Sign In</a>
      </div>
    </div>
  </div>
</main>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script src="/js/supabase.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('reset-form');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const email = document.getElementById('email').value;
    const submitBtn = form.querySelector('button[type="submit"]');

    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending...';

    try {
      await Auth.resetPassword(email);
      form.innerHTML = `
        <div class="alert alert-success">
          <h3>Check your email</h3>
          <p>If an account exists for <strong>${email}</strong>, we've sent a password reset link.</p>
        </div>
        <a href="/account/login/" class="btn btn-secondary btn-block">Back to Sign In</a>
      `;
    } catch (error) {
      AuthUI.showError(form, error.message);
      submitBtn.disabled = false;
      submitBtn.textContent = 'Send Reset Link';
    }
  });
});
</script>
